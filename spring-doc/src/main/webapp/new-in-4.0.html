<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>3.&nbsp;Spring 4.0&#22686;&#24378;&#21644;&#26032;&#21151;&#33021;</title><link rel="stylesheet" type="text/css" href="css/manual-multipage.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Spring Framework Reference Documentation"><link rel="up" href="spring-whats-new.html" title="Part&nbsp;II.&nbsp;Spring 4.x&#30340;&#26032;&#21151;&#33021;"><link rel="prev" href="spring-whats-new.html" title="Part&nbsp;II.&nbsp;Spring 4.x&#30340;&#26032;&#21151;&#33021;"><link rel="next" href="new-in-4.1.html" title="4.&nbsp;Spring 4.1&#22686;&#24378;&#21644;&#26032;&#21151;&#33021;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.&nbsp;Spring 4.0&#22686;&#24378;&#21644;&#26032;&#21151;&#33021;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="spring-whats-new.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;II.&nbsp;Spring 4.x&#30340;&#26032;&#21151;&#33021;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="new-in-4.1.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="new-in-4.0" href="#new-in-4.0"></a>3.&nbsp;Spring 4.0&#22686;&#24378;&#21644;&#26032;&#21151;&#33021;</h2></div></div></div>

<p>Spring&#26694;&#26550;&#31532;&#19968;&#20010;&#29256;&#26412;&#21457;&#24067;&#20110;2004&#24180;&#65292;&#33258;&#21457;&#24067;&#20197;&#26469;&#24050;&#21382;&#32463;&#19977;&#20010;&#20027;&#35201;&#29256;&#26412;&#26356;&#26032;:Spring 2.0&#25552;&#20379;&#20102;XML&#21629;&#21517;&#31354;&#38388;&#21644;AspectJ&#25903;&#25345;&#65307;Spring 2.5&#22686;&#21152;&#20102;&#27880;&#37322;&#39537;&#21160;&#65288;annotation-driven&#65289;&#30340;&#37197;&#32622;&#25903;&#25345;&#65307;Spring 3.0&#22686;&#21152;&#20102;&#23545;Java 5+&#29256;&#26412;&#30340;&#25903;&#25345;&#21644;@Configuration&#27169;&#22411;&#12290;</p>
<p>Spring 4.0&#26159;&#26368;&#26032;&#30340;&#20027;&#35201;&#29256;&#26412;&#65292;&#24182;&#19988;&#39318;&#27425;&#23436;&#20840;&#25903;&#25345;Java 8&#30340;&#29305;&#24615;&#12290;&#20320;&#20173;&#28982;&#21487;&#20197;&#20351;&#29992;&#32769;&#29256;&#26412;&#30340;Java&#65292;&#20294;&#26159;&#26368;&#20302;&#29256;&#26412;&#30340;&#35201;&#27714;&#24050;&#32463;&#25552;&#39640;&#21040;Java SE 6&#12290;&#25105;&#20204;&#20063;&#20511;&#20027;&#35201;&#29256;&#26412;&#26356;&#26032;&#30340;&#26426;&#20250;&#21024;&#38500;&#20102;&#35768;&#22810;&#36807;&#26102;&#30340;&#31867;&#21644;&#26041;&#27861;&#12290;</p>
<p>&#20320;&#21487;&#20197;&#22312; <a class="ulink" href="https://github.com/spring-projects/spring-framework/wiki" target="_top">Spring Wiki&#25991;&#26723;</a> &#19978;&#26597;&#30475; <a class="ulink" href="https://github.com/spring-projects/spring-framework/wiki/Migrating-from-earlier-versions-of-the-spring-framework" target="_top">&#21319;&#32423;Spring 4.0&#36801;&#31227;&#25351;&#21335;</a>&#12290;</p>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_" href="#_"></a>3.1&nbsp;&#25913;&#36827;&#30340;&#20837;&#38376;&#20307;&#39564;</h2></div></div></div>

<p>&#26032;&#30340; <a class="ulink" href="https://spring.io" target="_top">spring.io</a> &#32593;&#31449;&#25552;&#20379;&#20102;&#19968;&#25972;&#20010;&#31995;&#21015;&#30340; <a class="ulink" href="https://spring.io/guides" target="_top">"&#20837;&#38376;&#25351;&#21335;"</a> &#24110;&#21161;&#20320;&#23398;&#20064;Spring&#12290;&#20320;&#21487;&#20197;&#26412;&#25991;&#26723;&#30340; <a class="link" href="overview-getting-started-with-spring.html" title="1.&nbsp;Getting Started With Spring">Spring &#20837;&#38376;&#27010;&#36848;</a> &#19968;&#33410;&#38405;&#35835;&#26356;&#22810;&#30340;&#20837;&#38376;&#25351;&#21335;&#12290;&#26032;&#32593;&#31449;&#36824;&#25552;&#20379;&#20102;Spring&#20043;&#19979;&#20854;&#20182;&#39069;&#22806;&#39033;&#30446;&#30340;&#19968;&#20010;&#20840;&#38754;&#30340;&#27010;&#36848;&#12290;</p>
<p>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;Maven&#29992;&#25143;&#65292;&#20320;&#21487;&#33021;&#20250;&#23545; <a class="link" href="overview.html#overview-maven-bom" title="Maven &#34;Bill Of Materials&#34; Dependency">BOM</a> &#36825;&#20010;&#26377;&#29992;&#30340;POM&#25991;&#20214;&#24863;&#20852;&#36259;&#65292;
&#36825;&#20010;&#25991;&#20214;&#24050;&#32463;&#19982;&#27599;&#20010;Spring&#30340;&#21457;&#24067;&#29256;&#21457;&#24067;&#12290;</p>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="__2" href="#__2"></a>3.2&nbsp;&#31227;&#38500;&#36807;&#26102;&#30340;&#21253;&#21644;&#26041;&#27861;</h2></div></div></div>

<p>&#25152;&#26377;&#36807;&#26102;&#30340;&#21253;&#21644;&#35768;&#22810;&#36807;&#26102;&#30340;&#31867;&#21644;&#26041;&#27861;&#24050;&#32463;&#20174;Spring4&#20013;&#31227;&#38500;&#12290;&#22914;&#26524;&#20320;&#20174;&#20043;&#21069;&#30340;&#21457;&#24067;&#29256;&#21319;&#32423;Spring&#65292;&#20320;&#38656;&#35201;&#20445;&#35777;&#24050;&#32463;&#20462;&#22797;&#20102;&#25152;&#26377;&#20351;&#29992;&#36807;&#26102;&#30340;API&#26041;&#27861;&#12290;</p>
<p>&#26597;&#30475;&#23436;&#25972;&#30340;&#21464;&#21270;&#65306;
<a class="ulink" href="http://docs.spring.io/spring-framework/docs/3.2.4.RELEASE_to_4.0.0.RELEASE/" target="_top">API&#24046;&#24322;&#25253;&#21578;</a>&#12290;</p>
<p>&#35831;&#27880;&#24847;&#65292;&#25152;&#26377;&#21487;&#36873;&#30340;&#31532;&#19977;&#26041;&#20381;&#36182;&#37117;&#24050;&#32463;&#21319;&#32423;&#21040;&#20102;&#26368;&#20302;2010/2011(&#20363;&#22914;Spring4&#36890;&#24120;&#21482;&#25903;&#25345;2010&#24180;&#30340;&#26368;&#26032;&#25110;&#32773;&#29616;&#22312;&#30340;&#26368;&#26032;&#21457;&#24067;&#29256;&#26412;):&#23588;&#20854;&#26159; Hibernate 3.6+&#12289;EhCache 2.1+&#12289;Quartz 1.8+&#12289;Groovy 1.8+&#12289;Joda-Time 2.0+&#12290;&#20294;&#26159;&#26377;&#19968;&#20010;&#20363;&#22806;&#65292;Spring4&#20381;&#36182;&#26368;&#36817;&#30340;Hibernate Validator 4.3+&#65292;&#29616;&#22312;&#23545;Jackson&#30340;&#25903;&#25345;&#38598;&#20013;&#22312;2.0+&#29256;&#26412; (Spring3.2&#25903;&#25345;&#30340;Jackson 1.8/1.9&#65292;&#29616;&#22312;&#24050;&#32463;&#36807;&#26102;&#65289;&#12290;</p>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_java_8_6_7" href="#_java_8_6_7"></a>3.3&nbsp;Java 8 (&#20197;&#21450;6&#21644;7)</h2></div></div></div>

<p>Spring4&#25903;&#25345;Java8&#30340;&#19968;&#20123;&#29305;&#24615;&#12290;&#20320;&#21487;&#20197;&#22312;Spring&#30340;&#22238;&#35843;&#25509;&#21475;&#20013;&#20351;&#29992; <span class="emphasis"><em>lambda &#34920;&#36798;&#24335;</em></span> &#21644; <span class="emphasis"><em>&#26041;&#27861;&#24341;&#29992;</em></span>&#12290;&#25903;&#25345;<code class="literal">java.time</code> (<a class="ulink" href="http://jcp.org/en/jsr/detail?id=310" target="_top">JSR-310</a>)&#30340;&#20540;&#31867;&#22411;&#21644;&#19968;&#20123;&#25913;&#36827;&#36807;&#30340;&#27880;&#35299;&#65292;&#20363;&#22914;<code class="literal">@Repeatable</code>&#12290;&#20320;&#36824;&#21487;&#20197;&#20351;&#29992;Java8&#30340;&#21442;&#25968;&#21517;&#31216;&#21457;&#29616;&#26426;&#21046;&#65288;&#22522;&#20110;<code class="literal">-parameters</code>&#32534;&#35793;&#22120;&#26631;&#24535;&#65289;&#12290;</p>
<p>Spring&#20173;&#28982;&#20860;&#23481;&#32769;&#29256;&#26412;&#30340;Java&#21644;JDK&#65306;Java SE 6&#65288;&#20855;&#20307;&#26469;&#35828;&#65292;&#25903;&#25345;JDK6 update 18&#65289;&#20197;&#19978;&#29256;&#26412;&#65292;&#25105;&#20204;&#24314;&#35758;&#26032;&#30340;&#22522;&#20110;Spring4&#30340;&#39033;&#30446;&#20351;&#29992;Java7&#25110;Java8&#12290;</p>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_java_ee_6_7" href="#_java_ee_6_7"></a>3.4&nbsp;Java EE 6&#21644;7</h2></div></div></div>

<p>Java EE 6 &#25110;&#20197;&#19978;&#29256;&#26412;&#26159;Spring4&#30340;&#24213;&#32447;,&#19982;JPA2.0&#21644;Servlet3.0&#35268;&#33539;&#26377;&#30528;&#29305;&#27530;&#30340;&#24847;&#20041;&#12290;&#20026;&#20102;&#20445;&#25345;&#19982;Google App Engine&#21644;&#26087;&#30340;&#24212;&#29992;&#31243;&#24207;&#26381;&#21153;&#22120;&#20860;&#23481;,Spring4&#21487;&#20197;&#37096;&#32626;&#22312;Servlet2.5&#36816;&#34892;&#29615;&#22659;&#12290;&#20294;&#26159;&#25105;&#20204;&#24378;&#28872;&#30340;&#24314;&#35758;&#24744;&#22312;Spring&#27979;&#35797;&#21644;&#27169;&#25311;&#27979;&#35797;&#30340;&#24320;&#21457;&#29615;&#22659;&#20013;&#20351;&#29992;Servlet3.0+&#12290;</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">
<p>&#22914;&#26524;&#20320;&#26159;WebSphere 7&#30340;&#29992;&#25143;&#65292;&#19968;&#23450;&#35201;&#23433;&#35013;JPA2.0&#21151;&#33021;&#21253;&#12290;&#22312;WebLogic 10.3.4&#25110;&#26356;&#39640;&#29256;&#26412;&#65292;&#23433;&#35013;&#38468;&#24102;&#30340;JPA2.0&#34917;&#19969;&#12290;&#36825;&#26679;&#23601;&#21487;&#20197;&#23558;&#36825;&#20004;&#31181;&#26381;&#21153;&#22120;&#21464;&#25104;Spring4&#20860;&#23481;&#30340;&#37096;&#32626;&#29615;&#22659;&#12290;</p>
</td></tr></table></div>

<p>&#20174;&#38271;&#36828;&#30340;&#35266;&#28857;&#26469;&#30475;&#65292;Spring4.0&#29616;&#22312;&#25903;&#25345;Java EE 7&#32423;&#21035;&#30340;&#36866;&#29992;&#24615;&#35268;&#33539;&#65306;&#23588;&#20854;&#26159;JMS 2.0, JTA 1.2, JPA 2.1, Bean Validation 1.1 &#21644;JSR-236&#24182;&#21457;&#24037;&#20855;&#31867;&#12290;&#20687;&#24448;&#24120;&#19968;&#26679;&#65292;&#25903;&#25345;&#30340;&#37325;&#28857;&#26159;&#29420;&#31435;&#30340;&#20351;&#29992;&#36825;&#20123;&#35268;&#33539;&#12290;&#20363;&#22914;&#22312;Tomcat&#25110;&#32773;&#29420;&#31435;&#29615;&#22659;&#20013;&#12290;&#20294;&#26159;&#65292;&#24403;&#25226;Spring&#24212;&#29992;&#37096;&#32626;&#21040;Java EE 7&#26381;&#21153;&#22120;&#26102;&#23427;&#21516;&#26679;&#36866;&#29992;&#12290;</p>
<p>&#27880;&#24847;&#65292;Hibernate 4.3&#26159;JPA 2.1&#30340;&#25552;&#20379;&#32773;&#65292;&#22240;&#27492;&#23427;&#21482;&#25903;&#25345;Spring4&#12290;&#21516;&#26679;&#36866;&#29992;&#29992;&#20110;&#20316;&#20026;Bean Validation 1.1&#25552;&#20379;&#32773;&#30340;Hibernate Validator 5.0&#12290;&#36825;&#20004;&#20010;&#37117;&#19981;&#25903;&#25345;Spring3.2&#12290;</p>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="groovy-bean-definition-dsl" href="#groovy-bean-definition-dsl"></a>3.5&nbsp;Groovy DSL&#23450;&#20041;Bean</h2></div></div></div>

<p>Spring4.0&#25903;&#25345;&#20351;&#29992;Groovy DSL&#26469;&#36827;&#34892;&#22806;&#37096;&#30340;bean&#23450;&#20041;&#37197;&#32622;&#12290;&#36825;&#22312;&#27010;&#24565;&#19978;&#31867;&#20284;&#20110;&#20351;&#29992;XML&#30340;bean&#23450;&#20041;&#65292;&#20294;&#26159;&#25903;&#25345;&#26356;&#31616;&#27905;&#30340;&#35821;&#27861;&#12290;&#20351;&#29992;Groovy&#36824;&#20801;&#35768;&#24744;&#36731;&#26494;&#22320;&#23558;bean&#23450;&#20041;&#30452;&#25509;&#23884;&#20837;&#21040;&#24341;&#23548;&#20195;&#30721;&#20013;&#12290;&#20363;&#22914;&#65306;</p>
<pre class="programlisting">def reader = new GroovyBeanDefinitionReader(myApplicationContext)
reader.beans {
    dataSource(BasicDataSource) {
        driverClassName = "org.hsqldb.jdbcDriver"
        url = "jdbc:hsqldb:mem:grailsDB"
        username = "sa"
        password = ""
        settings = [mynew:"setting"]
    }
    sessionFactory(SessionFactory) {
        dataSource = dataSource
    }
    myService(MyService) {
        nestedBean = { AnotherBean bean -&gt;
            dataSource = dataSource
        }
    }
}</pre>

<p>&#26377;&#20851;&#26356;&#22810;&#20449;&#24687;&#65292;&#35831;&#21442;&#38405; <code class="literal">GroovyBeanDefinitionReader</code>
<a class="ulink" href="http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/factory/groovy/GroovyBeanDefinitionReader.html" target="_top">javadocs</a>.</p>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="__3" href="#__3"></a>3.6&nbsp;&#26680;&#24515;&#23481;&#22120;&#25913;&#36827;</h2></div></div></div>

<p>&#26377;&#20960;&#31181;&#23545;&#26680;&#24515;&#23481;&#22120;&#30340;&#24120;&#35268;&#25913;&#36827;&#65306;</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Spring&#29616;&#22312;&#27880;&#20837;Bean&#30340;&#26102;&#20505;&#25226; <a class="link" href="beans.html#beans-generics-as-qualifiers" title="5.9.4&nbsp;Using generics as autowiring qualifiers"><span class="emphasis"><em>&#27867;&#22411;&#31867;&#22411;</em></span> &#24403;&#25104;&#19968;&#31181;&#24418;&#24335;&#30340; <span class="emphasis"><em>&#38480;&#23450;&#31526;</em></span></a>&#12290;&#20363;&#22914;&#65306;&#22914;&#26524;&#20320;&#20351;&#29992;Spring Data <code class="literal">Repository</code>&#20320;&#21487;&#20197;&#26041;&#20415;&#30340;&#25554;&#20837;&#29305;&#23450;&#30340;&#23454;&#29616;&#65306;<code class="literal">@Autowired Repository&lt;Customer&gt; customerRepository</code>&#12290;
</li><li class="listitem">
&#22914;&#26524;&#20320;&#20351;&#29992;Spring&#30340;&#20803;&#27880;&#35299;&#25903;&#25345;&#65292;&#20320;&#29616;&#22312;&#21487;&#20197;&#24320;&#21457;&#33258;&#23450;&#20041;&#27880;&#35299;&#26469;<a class="link" href="beans.html#beans-meta-annotations" title="5.10.2&nbsp;Meta-annotations">&#20844;&#24320;&#28304;&#27880;&#35299;&#30340;&#29305;&#23450;&#23646;&#24615;</a>&#12290;
</li><li class="listitem">
&#24403;<a class="link" href="beans.html#beans-autowired-annotation" title="5.9.2&nbsp;@Autowired">&#33258;&#21160;&#35013;&#37197;&#21040;lists&#21644;arrays</a>&#26102;&#65292;Beans&#29616;&#22312;&#21487;&#20197;&#34987; <span class="emphasis"><em>&#25490;&#24207;</em></span> &#20102;&#12290;&#25903;&#25345;<code class="literal">@Order</code>&#27880;&#35299;&#21644;<code class="literal">Ordered</code>&#25509;&#21475;&#20004;&#31181;&#26041;&#24335;&#12290;
</li><li class="listitem">
<code class="literal">@Lazy</code>&#27880;&#35299;&#29616;&#22312;&#21487;&#20197;&#29992;&#22312;&#27880;&#20837;&#28857;&#20197;&#21450;<code class="literal">@Bean</code>&#23450;&#20041;&#19978;&#12290;
</li><li class="listitem">
<a class="link" href="beans.html#beans-java-bean-description" title="Bean description">&#24341;&#20837;<code class="literal">@Description</code>&#27880;&#35299;</a>,&#24320;&#21457;&#20154;&#21592;&#21487;&#20197;&#20351;&#29992;&#22522;&#20110;Java&#26041;&#24335;&#30340;&#37197;&#32622;&#12290;
</li><li class="listitem">
<a class="link" href="beans.html#beans-java-conditional" title="Conditionally including @Configuration classes or @Beans">&#26681;&#25454;&#26465;&#20214;&#31579;&#36873;Beans</a>&#30340;&#24191;&#20041;&#27169;&#22411;&#36890;&#36807;<code class="literal">@Conditional</code>&#27880;&#35299;&#21152;&#20837;&#12290;&#36825;&#21644;<code class="literal">@Profile</code>&#25903;&#25345;&#30340;&#31867;&#20284;&#65292;&#20294;&#26159;&#20801;&#35768;&#20197;&#32534;&#31243;&#24335;&#24320;&#21457;&#29992;&#25143;&#23450;&#20041;&#30340;&#31574;&#30053;&#12290;
</li><li class="listitem">
<a class="link" href="aop-api.html#aop-pfb-proxy-types" title="10.5.3&nbsp;JDK- and CGLIB-based proxies">&#22522;&#20110;CGLIB&#30340;&#20195;&#29702;&#31867;</a>&#19981;&#22312;&#38656;&#35201;&#40664;&#35748;&#30340;&#26500;&#36896;&#26041;&#27861;&#12290;&#36825;&#20010;&#25903;&#25345;&#26159;&#30001; <a class="ulink" href="http://code.google.com/p/objenesis/" target="_top">objenesis</a>&#24211;&#25552;&#20379;&#12290;&#36825;&#20010;&#24211;&#37325;&#26032;&#25171;&#21253;&#21040;Spring&#26694;&#26550;&#20013;&#65292;&#20316;&#20026;Spring&#26694;&#26550;&#30340;&#19968;&#37096;&#20998;&#21457;&#24067;&#12290;&#36890;&#36807;&#36825;&#20010;&#31574;&#30053;&#65292;&#38024;&#23545;&#20195;&#29702;&#23454;&#20363;&#34987;&#35843;&#29992;&#27809;&#26377;&#26500;&#36896;&#21487;&#35328;&#20102;&#12290;
</li><li class="listitem">
&#26694;&#26550;&#29616;&#22312;&#25903;&#25345;&#31649;&#29702;&#26102;&#21306;&#12290;&#20363;&#22914;<code class="literal">LocaleContext</code>&#12290;
</li></ul></div>

</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="__web" href="#__web"></a>3.7&nbsp;&#24120;&#35268;Web&#25913;&#36827;</h2></div></div></div>

<p>&#29616;&#22312;&#20173;&#28982;&#21487;&#20197;&#37096;&#32626;&#21040;Servlet 2.5&#26381;&#21153;&#22120;&#65292;&#20294;&#26159;Spring4.0&#29616;&#22312;&#20027;&#35201;&#38598;&#20013;&#22312;Servlet 3.0+&#29615;&#22659;&#12290;&#22914;&#26524;&#20320;&#20351;&#29992;<a class="link" href="aop-api.html#spring-mvc-test-framework" title="10.15.6&nbsp;Spring MVC Test Framework">Spring MVC&#27979;&#35797;&#26694;&#26550;</a>&#65292;&#20320;&#38656;&#35201;&#23558;Servlet 3.0&#20860;&#23481;&#30340;JAR&#21253;&#25918;&#21040; <span class="emphasis"><em>&#27979;&#35797;&#30340;classpath</em></span>&#19979;&#12290;</p>
<p>&#38500;&#20102;&#31245;&#21518;&#20250;&#25552;&#21040;&#30340;WebSocket&#25903;&#25345;&#22806;&#65292;&#19979;&#38754;&#30340;&#24120;&#35268;&#25913;&#36827;&#24050;&#32463;&#21152;&#20837;&#21040;Spring&#30340;Web&#27169;&#22359;&#65306;</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
&#20320;&#21487;&#20197;&#22312;Spring MVC&#24212;&#29992;&#20013;&#20351;&#29992;<a class="link" href="mvc.html#mvc-ann-restcontroller" title="&#20351;&#29992; @RestController &#21019;&#24314; REST &#25511;&#21046;&#22120;">&#26032;&#30340;<code class="literal">@RestController</code>&#27880;&#35299;</a>&#65292;&#19981;&#22312;&#38656;&#35201;&#32473;<code class="literal">@RequestMapping</code>&#30340;&#26041;&#27861;&#28155;&#21152;<code class="literal">@ResponseBody</code>&#27880;&#35299;&#12290;
</li><li class="listitem">
<code class="literal">AsyncRestTemplate</code>&#31867;&#24050;&#34987;&#28155;&#21152;&#36827;&#26469;&#65292;&#24403;&#24320;&#21457;REST&#23458;&#25143;&#31471;&#26102;&#65292;<a class="link" href="remoting.html#rest-async-resttemplate" title="21.10.3&nbsp;Async RestTemplate">&#20801;&#35768;&#38750;&#38459;&#22622;&#24322;&#27493;&#25903;&#25345;</a>&#12290;
</li><li class="listitem">
&#24403;&#24320;&#21457;Spring MVC&#24212;&#29992;&#26102;&#65292;Spring&#29616;&#22312;&#25552;&#20379;&#20102;<a class="link" href="mvc.html#mvc-timezone" title="16.8.1&nbsp;&#33719;&#24471;&#26102;&#21306;&#20449;&#24687;">&#20840;&#38754;&#30340;&#26102;&#21306;&#25903;&#25345;</a> &#12290;
</li></ul></div>

</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_websocket_sockjs_stomp" href="#_websocket_sockjs_stomp"></a>3.8&nbsp;WebSocket&#12289;SockJS&#21644;STOMP&#28040;&#24687;</h2></div></div></div>

<p>&#19968;&#20010;&#26032;&#30340;<code class="literal">spring-websocket</code>&#27169;&#22359;&#25552;&#20379;&#20102;&#20840;&#38754;&#30340;&#22522;&#20110;WebSocket&#21644;&#22312;Web&#24212;&#29992;&#30340;&#23458;&#25143;&#31471;&#21644;&#26381;&#21153;&#22120;&#20043;&#38388;&#21452;&#21521;&#36890;&#20449;&#30340;&#25903;&#25345;&#12290;&#23427;&#21644;Java WebSocket API <a class="ulink" href="http://jcp.org/en/jsr/detail?id=356" target="_top">JSR-356</a>&#20860;&#23481;&#65292;&#27492;&#22806;&#36824;&#25552;&#20379;&#20102;&#24403;&#27983;&#35272;&#22120;&#19981;&#25903;&#25345;WebSocket&#21327;&#35758;&#26102;&#30340;&#22522;&#20110;SockJS&#30340;&#22791;&#29992;&#36873;&#39033;&#12290;</p>
<p>&#19968;&#20010;&#26032;&#30340;<code class="literal">spring-messaging</code>&#27169;&#22359;&#28155;&#21152;&#20102;&#25903;&#25345;STOMP&#20316;&#20026;WebSocket&#23376;&#21327;&#35758;&#29992;&#20110;&#22312;&#24212;&#29992;&#20013;&#20351;&#29992;&#27880;&#35299;&#32534;&#31243;&#27169;&#22411;&#36335;&#30001;&#21644;&#22788;&#29702;&#20174;WebSocket&#23458;&#25143;&#31471;&#21457;&#36865;&#30340;STOMP&#28040;&#24687;&#12290;&#30001;&#20110;<code class="literal">@Controller</code>&#29616;&#22312;&#21487;&#20197;&#21516;&#26102;&#21253;&#21547;<code class="literal">@RequestMapping</code>&#21644;<code class="literal">@MessageMapping</code>&#26041;&#27861;&#29992;&#20110;&#22788;&#29702;HTTP&#35831;&#27714;&#21644;&#26469;&#33258;WebSocket&#36830;&#25509;&#23458;&#25143;&#31471;&#21457;&#36865;&#30340;&#28040;&#24687;&#12290;&#26032;&#30340;<code class="literal">spring-messaging</code>&#27169;&#22359;&#36824;&#21253;&#21547;&#20102;&#26469;&#33258;&#20197;&#21069;Spring&#38598;&#25104;&#39033;&#30446;&#30340;&#20851;&#38190;&#25277;&#35937;&#65292;&#20363;&#22914;<code class="literal">Message</code>&#12289;<code class="literal">MessageChannel</code>&#12289;<code class="literal">MessageHandler</code>&#21644;&#20854;&#20182;&#20316;&#20026;&#22522;&#20110;&#28040;&#24687;&#20256;&#36882;&#30340;&#24212;&#29992;&#31243;&#24207;&#30340;&#22522;&#30784;&#12290;</p>
<p>&#27442;&#30693;&#35814;&#24773;&#20197;&#21450;&#36739;&#20840;&#38754;&#30340;&#20171;&#32461;&#65292;&#35831;&#21442;&#35265;<a class="xref" href="websocket.html" title="20.&nbsp;WebSocket &#25903;&#25345;">Chapter&nbsp;20, <i>WebSocket &#25903;&#25345;</i></a>&#19968;&#33410;&#12290;</p>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="__4" href="#__4"></a>3.9&nbsp;&#27979;&#35797;&#25913;&#36827;</h2></div></div></div>

<p>&#38500;&#20102;&#31934;&#31616;<code class="literal">spring-test</code>&#27169;&#22359;&#20013;&#36807;&#26102;&#30340;&#20195;&#30721;&#22806;&#65292;Spring4&#36824;&#24341;&#20837;&#20102;&#20960;&#20010;&#29992;&#20110;&#21333;&#20803;&#27979;&#35797;&#21644;&#38598;&#25104;&#27979;&#35797;&#30340;&#26032;&#21151;&#33021;&#12290;</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
&#20960;&#20046;<code class="literal">spring-test</code>&#27169;&#22359;&#20013;&#25152;&#26377;&#30340;&#27880;&#35299;&#65288;&#20363;&#22914;&#65306;<code class="literal">@ContextConfiguration</code>&#12289;<code class="literal">@WebAppConfiguration</code>&#12289;<code class="literal">@ContextHierarchy</code>&#12289;<code class="literal">@ActiveProfiles</code>&#31561;&#31561;)&#29616;&#22312;&#21487;&#20197;&#29992;&#20316;<a class="link" href="aop-api.html#integration-testing-annotations-meta" title="Meta-Annotation Support for Testing">&#20803;&#27880;&#35299;</a>&#26469;&#21019;&#24314;&#33258;&#23450;&#20041;&#30340;<span class="emphasis"><em>composed annotations</em></span>&#24182;&#19988;&#21487;&#20197;&#20943;&#23569;&#27979;&#35797;&#22871;&#20214;&#30340;&#37197;&#32622;&#12290;
</li><li class="listitem">
&#29616;&#22312;&#21487;&#20197;&#20197;&#32534;&#31243;&#26041;&#24335;&#35299;&#20915;Bean&#23450;&#20041;&#37197;&#32622;&#25991;&#20214;&#30340;&#28608;&#27963;&#12290;&#21482;&#38656;&#35201;&#23454;&#29616;&#19968;&#20010;&#33258;&#23450;&#20041;&#30340;<a class="link" href="aop-api.html#testcontext-ctx-management-env-profiles-ActiveProfilesResolver"><code class="literal">ActiveProfilesResolver</code></a>&#65292;&#24182;&#19988;&#36890;&#36807;<code class="literal">@ActiveProfiles</code>&#30340;<code class="literal">resolver</code>&#23646;&#24615;&#27880;&#20876;&#12290;
</li><li class="listitem">
&#26032;&#30340;<code class="literal">SocketUtils</code>&#31867;&#34987;&#24341;&#20837;&#21040;&#20102;<code class="literal">spring-core</code>&#27169;&#22359;&#12290;&#36825;&#20010;&#31867;&#21487;&#20197;&#20351;&#20320;&#33021;&#22815;&#25195;&#25551;&#26412;&#22320;&#20027;&#26426;&#30340;&#31354;&#38386;&#30340;TCP&#21644;UDP&#26381;&#21153;&#31471;&#21475;&#12290;&#36825;&#20010;&#21151;&#33021;&#19981;&#26159;&#19987;&#38376;&#29992;&#22312;&#27979;&#35797;&#30340;&#65292;&#20294;&#26159;&#21487;&#20197;&#35777;&#26126;&#22312;&#20320;&#20351;&#29992;Socket&#20889;&#38598;&#25104;&#27979;&#35797;&#30340;&#26102;&#20505;&#38750;&#24120;&#26377;&#29992;&#12290;&#20363;&#22914;&#27979;&#35797;&#20869;&#23384;&#20013;&#21551;&#21160;&#30340;SMTP&#26381;&#21153;&#22120;&#65292;FTP&#26381;&#21153;&#22120;&#65292;Servlet&#23481;&#22120;&#31561;&#12290;
</li><li class="listitem">
&#20174;Spring 4.0&#24320;&#22987;,<code class="literal">org.springframework.mock.web</code>&#21253;&#20013;&#30340;&#19968;&#22871;mock&#26159;&#22522;&#20110;Servlet 3.0 API&#12290;&#27492;&#22806;&#65292;&#19968;&#20123;Servlet API mocks&#65288;&#20363;&#22914;&#65306;<code class="literal">MockHttpServletRequest</code>&#12289;<code class="literal">MockServletContext</code>&#31561;&#31561;&#65289;&#24050;&#32463;&#26377;&#19968;&#20123;&#23567;&#30340;&#25913;&#36827;&#26356;&#26032;&#65292;&#25552;&#39640;&#20102;&#21487;&#37197;&#32622;&#24615;&#12290;
</li></ul></div>

</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="spring-whats-new.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="spring-whats-new.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="new-in-4.1.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Part&nbsp;II.&nbsp;Spring 4.x&#30340;&#26032;&#21151;&#33021;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;4.&nbsp;Spring 4.1&#22686;&#24378;&#21644;&#26032;&#21151;&#33021;</td></tr></table></div></body></html>